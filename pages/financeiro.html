
<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Financeiro â€¢ Miles Trip</title>
  <link rel="stylesheet" href="./css/dashboard.css" />
  <link rel="stylesheet" href="./css/financeiro.css" />
</head>
<body>
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="brand">
        <img src="./assets/milestriplogo.png" alt="Miles Trip" class="brand-logo" />
    </div>
      <nav>
        <a href="./dashboard.html" class="nav-item">ğŸ  Dashboard</a>
        <a href="./clientes.html" class="nav-item">ğŸ§ Clientes</a>
        <a href="./pacotes.html" class="nav-item">âœˆï¸ Pacotes</a>
        <a href="./financeiro.html" class="nav-item active">ğŸ’° Financeiro</a>
        <a href="./configuracoes.html" class="nav-item">âš™ï¸ ConfiguraÃ§Ãµes</a>
        <div class="divider"></div>
        <button id="logoutBtn" class="nav-item ghost">ğŸšª Sair</button>
      </nav>
    </aside>

    <!-- ConteÃºdo -->
    <main class="content">
      <div class="topbar">
        <h2>Financeiro</h2>
        <div class="filters">
          <input type="month" id="refMonth" />
          <select id="statusFilter">
            <option value="todos">Todos</option>
            <option value="pendente">Pendentes</option>
            <option value="pago">Pagos</option>
            <option value="atrasado">Atrasados</option>
          </select>
          <button id="exportCsv" class="btn">Exportar CSV</button>
        </div>
      </div>

      <!-- KPIs -->
      <section class="kpis">
        <div class="kpi"><div class="kpi-title">Saldo disponÃ­vel</div><div id="kpi-balance" class="kpi-value">â€”</div><div class="kpi-sub">Pode sacar agora</div></div>
        <div class="kpi"><div class="kpi-title">ComissÃµes do mÃªs</div><div id="kpi-month" class="kpi-value">â€”</div><div class="kpi-sub">Bruto</div></div>
        <div class="kpi"><div class="kpi-title">PrÃ³ximo repasse</div><div id="kpi-next" class="kpi-value">â€”</div><div class="kpi-sub" id="kpi-next-date">â€”</div></div>
        <div class="kpi"><div class="kpi-title">Pagamentos em atraso</div><div id="kpi-late" class="kpi-value">â€”</div><div class="kpi-sub">Vencidos</div></div>
      </section>

      <div class="grid">
        <!-- GrÃ¡fico -->
        <section class="card">
          <div class="card-head"><h3>ComissÃµes (Ãºltimos 6 meses)</h3><span class="muted" id="g-range">â€”</span></div>
          <canvas id="finChart" aria-label="ComissÃµes por mÃªs" role="img"></canvas>
        </section>

        <!-- Repasses -->
        <section class="card">
          <div class="card-head"><h3>Repasses</h3>
            <div class="rowx">
              <button id="requestPayout" class="btn">Solicitar saque</button>
            </div>
          </div>
          <div class="table-wrap">
            <table class="table" id="tblPayouts">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Data</th>
                  <th>Valor</th>
                  <th>MÃ©todo</th>
                  <th>Status</th>
                  <th>AÃ§Ãµes</th>
                </tr>
              </thead>
              <tbody id="payoutsBody"></tbody>
            </table>
          </div>
        </section>
      </div>

      <!-- Tabela de comissÃµes -->
      <section class="card">
        <div class="card-head"><h3>ComissÃµes por pedido</h3></div>
        <div class="table-wrap">
          <table class="table" id="tblOrders">
            <thead>
              <tr>
                <th>Pedido</th>
                <th>Cliente</th>
                <th>Produto</th>
                <th>Total</th>
                <th>ComissÃ£o</th>
                <th>Status</th>
                <th>Data</th>
              </tr>
            </thead>
            <tbody id="ordersBody"></tbody>
          </table>
        </div>
      </section>

      <p class="foot">Â© Miles Trip â€” painel do vendedor</p>
    </main>
  </div>

  <script src="./js/financeiro.js" defer></script>
  <script src="./js/main.js" defer></script>
  <button id="menuToggle" class="only-mobile btn small" style="position:fixed;left:12px;top:12px;z-index:1201">â˜°</button>
<script>
  const aside = document.querySelector('.sidebar');
  document.getElementById('menuToggle')?.addEventListener('click', ()=> aside?.classList.toggle('open'));
  document.addEventListener('click',(e)=>{
    if (window.innerWidth>768) return;
    if (!aside?.classList.contains('open')) return;
    if (!e.target.closest('.sidebar') && !e.target.closest('#menuToggle')) aside.classList.remove('open');
  });
</script>


</body>
</html>
